"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[346],{1653:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>i,default:()=>c,frontMatter:()=>t,metadata:()=>a,toc:()=>g});const a=JSON.parse('{"id":"usage/setup","title":"Setup","description":"1. Install package","source":"@site/docs/usage/setup.md","sourceDirName":"usage","slug":"/usage/setup","permalink":"/django-admin-logs-viewer/docs/usage/setup","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"hide_table_of_contents":true},"sidebar":"tutorialSidebar","previous":{"title":"Usage","permalink":"/django-admin-logs-viewer/docs/category/usage"},"next":{"title":"Configuration","permalink":"/django-admin-logs-viewer/docs/usage/configuration"}}');var l=s(4848),o=s(8453);const t={sidebar_position:1,hide_table_of_contents:!0},i="Setup",r={},g=[{value:"1. Install package",id:"1-install-package",level:4},{value:"2. In <code>settings.py</code>:",id:"2-in-settingspy",level:4},{value:"3. Example <em>LOGGING</em> configuration:",id:"3-example-logging-configuration",level:4},{value:"4. Example logs usage:",id:"4-example-logs-usage",level:4}];function d(e){const n={code:"code",em:"em",h1:"h1",h4:"h4",header:"header",pre:"pre",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"setup",children:"Setup"})}),"\n",(0,l.jsx)(n.h4,{id:"1-install-package",children:"1. Install package"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"pip install django-admin-logs-viewer\n"})}),"\n",(0,l.jsxs)(n.h4,{id:"2-in-settingspy",children:["2. In ",(0,l.jsx)(n.code,{children:"settings.py"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"INSTALLED_APPS = [\n    'django_admin_logs_viewer', # At this line at the top\n    'django.contrib.admin',\n    ...\n]\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"TEMPLATES = [\n    {\n        ...\n        'OPTIONS': {\n            ...\n            'context_processors': [\n                ...\n                'django_admin_logs_viewer.context_processors.logs_url', # Add this line\n            ],\n        },\n    },\n]\n"})}),"\n",(0,l.jsxs)(n.h4,{id:"3-example-logging-configuration",children:["3. Example ",(0,l.jsx)(n.em,{children:"LOGGING"})," configuration:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'LOGS_SAVE_PATH = BASE_DIR / \'logs\'\n(LOGS_SAVE_PATH / \'commands\').mkdir(parents=True, exist_ok=True)\n(LOGS_SAVE_PATH / \'other\').mkdir(parents=True, exist_ok=True)\n\nLOGGING = {\n    "version": 1,\n    "disable_existing_loggers": False,\n    "formatters": {\n        "verbose": {\n            "format": \'{{ "level": "{levelname}", "datetime": "{asctime}", "source": "{name}", "file": "{filename}:{lineno}", "message": "{message}" }}\',\n            "style": "{",\n        },\n        "simple": {\n            "format": "{levelname} {filename} {message}",\n            "style": "{",\n        },\n    },\n    "handlers": {\n        "console": {\n            "level": "DEBUG",\n            "class": "logging.StreamHandler",\n            "formatter": "simple",\n        },\n        "file_commands": {\n            "level": "DEBUG",\n            "class": "logging.handlers.TimedRotatingFileHandler",\n            "filename": LOGS_SAVE_PATH / \'commands\' / \'logfile_commands.log\',\n            "when": "midnight",\n            "interval": 1,\n            "delay": True,\n            "formatter": "verbose",\n        },\n        "file_other": {\n            "level": "INFO",\n            "class": "logging.handlers.TimedRotatingFileHandler",\n            "filename": LOGS_SAVE_PATH / \'other\' / \'logfile_other.log\',\n            "when": "midnight",\n            "interval": 1,\n            "delay": True,\n            "formatter": "verbose",\n        },\n    },\n    "loggers": {\n        "your_app.management.commands": {\n            "level": "DEBUG",\n            "handlers": ["file_commands", "console"],\n            "propagate": False,\n        },\n        "": {\n            "level": "DEBUG",\n            "handlers": ["file_other", "console"],\n            "propagate": False,\n        },\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h4,{id:"4-example-logs-usage",children:"4. Example logs usage:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'import logging\nlogger = logging.getLogger(__name__)\n\nlogger.debug("debug message")\nlogger.info("info message")\nlogger.warning("warning message")\nlogger.error("error message")\nlogger.critical("critical message")\n'})})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>i});var a=s(6540);const l={},o=a.createContext(l);function t(e){const n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);